<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CLASSIFIED TERMINAL</title>

<script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>

<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:Consolas, monospace;
  color:#00ff00;
}

/* MATRIX BACKGROUND */
canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:0;
  opacity:0.25;
}

/* CENTER PANEL */
#panel{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:80%;
  max-width:900px;
  height:80vh;
  background:rgba(0,0,0,0.85);
  border:2px solid #00ff00;
  box-shadow:0 0 20px #00ff00;
  padding:20px;
  overflow-y:auto;
  z-index:2;
}

/* GLITCH EFFECT */
.glitch{
  animation:glitch 0.2s linear 5;
}
@keyframes glitch{
  0%{transform:translate(0);}
  20%{transform:translate(-2px,2px);}
  40%{transform:translate(2px,-2px);}
  60%{transform:translate(-2px,-2px);}
  80%{transform:translate(2px,2px);}
  100%{transform:translate(0);}
}

input{
  background:black;
  color:#00ff00;
  border:none;
  outline:none;
  font-family:Consolas, monospace;
}
</style>
</head>
<body>

<canvas id="matrix"></canvas>
<div id="panel"></div>

<script>
document.addEventListener("DOMContentLoaded",function(){

const SUPABASE_URL="https://cxkagetcsfcgmdulsmqs.supabase.co";
const SUPABASE_KEY="ΒΑΛΕ_ΤΟ_ANON_PUBLIC_KEY";

const {createClient}=supabase;
const db=createClient(SUPABASE_URL,SUPABASE_KEY);

const panel=document.getElementById("panel");

/* SOUND */
const typeSound=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3");
const errorSound=new Audio("https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3");

function scrollBottom(){panel.scrollTop=panel.scrollHeight;}

function type(text,speed=20){
  return new Promise(resolve=>{
    let i=0;
    const interval=setInterval(()=>{
      panel.innerHTML+=text.charAt(i);
      typeSound.currentTime=0;
      typeSound.play().catch(()=>{});
      scrollBottom();
      i++;
      if(i>=text.length){
        clearInterval(interval);
        resolve();
      }
    },speed);
  });
}

/* INTRO GLITCH */
async function intro(){
  panel.classList.add("glitch");
  await type("BOOTING SECURE NODE...\n");
  await type("INITIALIZING ENCRYPTION...\n");
  await type("BYPASSING FIREWALL...\n");
  await type("ACCESSING MAINFRAME...\n\n");
  askPassword();
}

function askPassword(){
  panel.innerHTML+="ENTER ACCESS CODE: ";
  const input=document.createElement("input");
  panel.appendChild(input);
  input.focus();

  input.addEventListener("keydown",function(e){
    if(e.key==="Enter"){
      if(input.value==="2006"){
        input.remove();
        accessGranted();
      }else{
        errorSound.play();
        panel.innerHTML+="\nACCESS DENIED. TRY AGAIN.\n";
        input.value="";
      }
      scrollBottom();
    }
  });
}

async function accessGranted(){
  await type("\nACCESS GRANTED.\n");
  await type("DECRYPTING FILES...\n\n");

  startCountdown();

  await type("> DATE: 20.06.2026\n");
  await type("> LOCATION: ENCRYPTED\n");
  await type("> STATUS: INVITATION PENDING\n\n");

  askEmail();
}

function startCountdown(){
  const timer=document.createElement("div");
  panel.appendChild(timer);

  const eventDate=new Date("2026-06-20T00:00:00").getTime();

  setInterval(()=>{
    const now=new Date().getTime();
    const diff=eventDate-now;
    if(diff<0){
      timer.innerText="> EVENT STARTED";
      return;
    }
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
    const m=Math.floor((diff%(1000*60*60))/(1000*60));
    const s=Math.floor((diff%(1000*60))/1000);
    timer.innerText="> EVENT TIMER: "+d+"D "+h+"H "+m+"M "+s+"S";
  },1000);
}

function askEmail(){
  panel.innerHTML+="ENTER YOUR EMAIL TO CONFIRM ACCESS: ";
  const input=document.createElement("input");
  panel.appendChild(input);
  input.focus();

  input.addEventListener("keydown",async function(e){
    if(e.key==="Enter"){
      const val=input.value.trim();

      if(val==="admin"){
        panel.innerHTML+="\nACCESSING LEVEL 2...\nDRESS CODE: BLACK.\n";
        input.remove();
        scrollBottom();
        return;
      }

      if(!val.includes("@")){
        errorSound.play();
        panel.innerHTML+="\nINVALID EMAIL. TRY AGAIN.\n";
        input.value="";
        scrollBottom();
        return;
      }

      panel.innerHTML+="\nSTORING DATA...\n";
      const {error}=await db.from("emails").insert([{email:val}]);

      if(error){
        panel.innerHTML+="DATABASE ERROR.\n";
      }else{
        panel.innerHTML+="EMAIL REGISTERED.\nYOU ARE NOW PART OF THE OPERATION.\n\nSTAY TUNED. MORE INFO TO COME.\n";
      }

      input.value="";
      scrollBottom();
    }
  });
}

/* MATRIX */
const canvas=document.getElementById("matrix");
const ctx=canvas.getContext("2d");
canvas.height=window.innerHeight;
canvas.width=window.innerWidth;
const letters="01";
const fontSize=14;
const columns=canvas.width/fontSize;
const drops=[];
for(let x=0;x<columns;x++) drops[x]=1;

function draw(){
  ctx.fillStyle="rgba(0,0,0,0.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#0F0";
  ctx.font=fontSize+"px monospace";
  for(let i=0;i<drops.length;i++){
    const text=letters.charAt(Math.floor(Math.random()*letters.length));
    ctx.fillText(text,i*fontSize,drops[i]*fontSize);
    if(drops[i]*fontSize>canvas.height && Math.random()>0.975)
      drops[i]=0;
    drops[i]++;
  }
}
setInterval(draw,33);

intro();

});
</script>

</body>
</html>
